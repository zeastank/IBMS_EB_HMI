var TcHmi;!function(e){!function(e){!function(t){!function(i){class n extends t.System.UiIconFdbStp{constructor(t,i,a){super(t,i,a),this.__defaultBaTemplateDescription=n.BaTemplateDescription,this.__pumpType=n.Type.invalid,this.__legendIconHandler=new e.Components.LegendIconHandler}__previnit(){super.__previnit()}__init(){super.__init()}__attach(){super.__attach(),this.__displayMode===n.DisplayMode.pu1st&&this.__legendIconHandler.show()}__detach(){super.__detach(),this.__legendIconHandler.hide()}destroy(){this.__keepAlive||super.destroy()}__setPumpType(e){return this.__pumpType=e,this}getPumpType(){return this.__pumpType}processBaObject(){if(super.processBaObject(),this.setSetpoint(null),this.setCommand(null),this.__setPumpType(n.Type.invalid),null==this.__baFc.baObjectHandler.baObject)return;let t=null,i=null,a=null;if(this.__baFc.baObjectHandler.baObject instanceof e.BA.BaView){if(this.__baFc.baObjectHandler.baObject.checkTemplate(n.BaTemplateDefinition,this.baTemplateHandler.baBaTemplateDescription,void 0,!1)&&(a=this.__baFc.baObjectHandler.baObject.getTemplateChild("command"),a&&this.__setPumpType(n.Type.pu1st)),null==a)return void e.Components.DialogWindow.alert(this.logger.warn(`Invalid BA template bound to ${this.__id}!`,this.__baFc.baObjectHandler.baObject));t=this.__baFc.baObjectHandler.baObject.getTemplateChild("feedback"),i=this.__baFc.baObjectHandler.baObject.getTemplateChild("setpoint"),this.setFeedback(t),this.setSetpoint(i),this.setCommand(a),i&&this.__setPumpType(n.Type.puCtl)}}__processDisplayMode(){let t;switch(super.__processDisplayMode(),this.__displayMode){case n.DisplayMode.custom:return;case n.DisplayMode.pu1st:t=e.Icons.HVAC.Pump;break;default:throw new e.BaseError("Invalid DisplayMode!")}null!=t?(this.__legendIconHandler.icon=e.Icons.convertIIconDataToIIconAttributes(t),this.__isAttached&&this.__legendIconHandler.show(),this.__baFc.iconHandler.setIcon(t.path,!0)):this.__legendIconHandler.hide()}}i.Pump=n,function(e){let i,n;!function(e){e[e.invalid=-1]="invalid",e[e.pu1st=0]="pu1st",e[e.custom=t.System.UiIconFdbStp.CustomDisplayModeValue]="custom"}(i=e.DisplayMode||(e.DisplayMode={})),function(e){e[e.invalid=-1]="invalid",e[e.pu1st=0]="pu1st",e[e.puCtl=1]="puCtl"}(n=e.Type||(e.Type={})),e.BaTemplateDefinition={feedback:{optional:!0},setpoint:{optional:!0},command:{}},e.BaTemplateDescription={feedback:{identifier:"Fdb"},setpoint:{identifier:"Mdlt"},command:{identifier:"Cmd"}}}(n=i.Pump||(i.Pump={}))}(t.Plants||(t.Plants={}))}(e.Controls||(e.Controls={}))}(e.BuildingAutomation||(e.BuildingAutomation={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("Pump","TcHmi.BuildingAutomation.Controls.Plants",TcHmi.BuildingAutomation.Controls.Plants.Pump);