var TcHmi;!function(e){!function(e){!function(t){!function(i){class a extends t.System.UiIconFdbStp{constructor(t,i,n){super(t,i,n),this.__defaultBaTemplateDescription=a.BaTemplateDescription_TwoPoint,this.__valveType=a.Type.invalid,this.__legendIconHandler=new e.Components.LegendIconHandler}__previnit(){super.__previnit()}__init(){super.__init()}__attach(){super.__attach(),this.__displayMode>=a.DisplayMode.twoDirection_0&&this.__displayMode<=a.DisplayMode.threeDirection_4&&this.__legendIconHandler.show()}__detach(){super.__detach(),this.__legendIconHandler.hide()}destroy(){this.__keepAlive||super.destroy()}__setValveType(e){return this.__valveType=e,this}getValveType(){return this.__valveType}processBaObject(){if(super.processBaObject(),this.setFeedback(null),this.setSetpoint(null),this.setCommand(null),this.__setValveType(a.Type.invalid),null==this.__baFc.baObjectHandler.baObject)return;let t=null,i=null,n=null;if(this.__baFc.baObjectHandler.baObject instanceof e.BA.BaView){if(this.baTemplateHandler.defaultBaTemplateDescription=a.BaTemplateDescription_TwoPoint,this.__baFc.baObjectHandler.baObject.checkTemplate(a.BaTemplateDefinition,this.baTemplateHandler.baBaTemplateDescription,void 0,!1)&&(t=this.__baFc.baObjectHandler.baObject.getTemplateChild("feedback"),t&&this.__setValveType(a.Type.analog)),null==t&&(this.baTemplateHandler.defaultBaTemplateDescription=a.BaTemplateDescription_ThreePoint,this.__baFc.baObjectHandler.baObject.checkTemplate(a.BaTemplateDefinition,this.baTemplateHandler.baBaTemplateDescription,void 0,!1)&&(t=this.__baFc.baObjectHandler.baObject.getTemplateChild("feedback"),t&&this.__setValveType(a.Type.threePoint))),null==t)return void e.Components.DialogWindow.alert(this.logger.warn(`Invalid BA template bound to ${this.__id}!`,this.__baFc.baObjectHandler.baObject));i=this.__baFc.baObjectHandler.baObject.getTemplateChild("setpoint"),this.setFeedback(t),this.setSetpoint(i),this.__valveType===a.Type.analog&&(n=this.__baFc.baObjectHandler.baObject.getTemplateChild("command"),this.setCommand(n))}}__processDisplayMode(){let t;switch(super.__processDisplayMode(),this.__displayMode){case a.DisplayMode.custom:return;case a.DisplayMode.twoDirection_0:t=e.Icons.HVAC.Valve_twodirection_0;break;case a.DisplayMode.twoDirection_1:t=e.Icons.HVAC.Valve_twodirection_1;break;case a.DisplayMode.twoDirection_2:t=e.Icons.HVAC.Valve_twodirection_2;break;case a.DisplayMode.twoDirection_3:t=e.Icons.HVAC.Valve_twodirection_3;break;case a.DisplayMode.threeDirection_0:t=e.Icons.HVAC.Valve_threedirection_0;break;case a.DisplayMode.threeDirection_1:t=e.Icons.HVAC.Valve_threedirection_1;break;case a.DisplayMode.threeDirection_2:t=e.Icons.HVAC.Valve_threedirection_2;break;case a.DisplayMode.threeDirection_3:t=e.Icons.HVAC.Valve_threedirection_3;break;case a.DisplayMode.threeDirection_4:t=e.Icons.HVAC.Valve_threedirection_4;break;default:throw new e.BaseError("Invalid DisplayMode!")}null!=t?(this.__legendIconHandler.icon=e.Icons.convertIIconDataToIIconAttributes(t),this.__isAttached&&this.__legendIconHandler.show(),this.__baFc.iconHandler.setIcon(t.path,!0)):this.__legendIconHandler.hide()}}i.Valve=a,function(e){let i,a;!function(e){e[e.invalid=-1]="invalid",e[e.twoDirection_0=0]="twoDirection_0",e[e.twoDirection_1=1]="twoDirection_1",e[e.twoDirection_2=2]="twoDirection_2",e[e.twoDirection_3=3]="twoDirection_3",e[e.threeDirection_0=4]="threeDirection_0",e[e.threeDirection_1=5]="threeDirection_1",e[e.threeDirection_2=6]="threeDirection_2",e[e.threeDirection_3=7]="threeDirection_3",e[e.threeDirection_4=8]="threeDirection_4",e[e.custom=t.System.UiIconFdbStp.CustomDisplayModeValue]="custom"}(i=e.DisplayMode||(e.DisplayMode={})),function(e){e[e.invalid=-1]="invalid",e[e.analog=0]="analog",e[e.threePoint=1]="threePoint"}(a=e.Type||(e.Type={})),e.BaTemplateDefinition={feedback:{},setpoint:{optional:!0},command:{optional:!0}},e.BaTemplateDescription_TwoPoint={feedback:{identifier:"Fdb"},setpoint:{identifier:"Mdlt"},command:{identifier:"Cmd"}},e.BaTemplateDescription_ThreePoint={feedback:{identifier:"Anlg3Pnt::Pos"},setpoint:{identifier:"Mdlt"},command:{identifier:"Cmd"}}}(a=i.Valve||(i.Valve={}))}(t.Plants||(t.Plants={}))}(e.Controls||(e.Controls={}))}(e.BuildingAutomation||(e.BuildingAutomation={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("Valve","TcHmi.BuildingAutomation.Controls.Plants",TcHmi.BuildingAutomation.Controls.Plants.Valve);