var TcHmi;!function(e){!function(t){!function(i){!function(s){class o extends i.System.BaseTemplate{constructor(e,i,s){super(e,i,s),this.__defaultBaTemplateDescription=o.BaTemplateDescription,this.__legendIconHandler=new t.Components.LegendIconHandler(t.Icons.convertIIconDataToIIconAttributes(t.Icons.HVAC.Erc_plate)),this.__diffPrssSwiLegendIconHandler=new t.Components.LegendIconHandler(t.Icons.convertIIconDataToIIconAttributes(t.Icons.HVAC.Pressure_s))}__previnit(){this.__diffPrssSwi=e.ControlFactory.createEx("TcHmi.BuildingAutomation.Controls.Plants.SensorBinary",this.__id+"-diff-prss-swi",null,this),null!=this.__diffPrssSwi&&(this.__diffPrssSwi.setPinLayout(i.System.Sensor.PinLayout.parallel).setDisplayMode(i.System.Sensor.DisplayMode.pressure).setPinPosition(t.Position.bottom).setPinConnection(16).setPinExtension(76).setPinWidth(4).setShowDisplays(!1).getElement().addClass("diff-prss-swi"),this.__element.append(this.__diffPrssSwi.getElement())),this.__main=e.ControlFactory.createEx("TcHmi.BuildingAutomation.Controls.Common.UiIcon",this.__id+"-main",null,this),null!=this.__main&&(this.__main.setIcon(t.Icons.HVAC.Erc_plate.path).getElement().addClass("main"),this.__element.append(this.__main.getElement())),this.__damper=e.ControlFactory.createEx("TcHmi.BuildingAutomation.Controls.Plants.Damper",this.__id+"-damper",null,this),this.__damper&&(this.__damper.setShowDisplays(!0),this.__damper.setDisplayPositionDesigner(t.Components.UiIcon.DisplayPosition.top),this.__damper.getElement().addClass("damper"),this.__element.append(this.__damper.getElement()[0])),this.__damperBy=e.ControlFactory.createEx("TcHmi.BuildingAutomation.Controls.Plants.Damper",this.__id+"-damper-by",null,this),this.__damperBy&&(this.__damperBy.setShowDisplays(!0),this.__damperBy.setDisplayPositionDesigner(t.Components.UiIcon.DisplayPosition.top),this.__damperBy.getElement().addClass("damper-by"),this.__damperBy.setConnections({left:130,right:35}),this.__damperBy.setConnectionExtensions({top:120}),this.__damperBy.setConnectionsWidth(10),this.__element.append(this.__damperBy.getElement()[0])),super.__previnit()}__init(){super.__init()}__attach(){super.__attach(),this.__legendIconHandler.show(),this.__diffPrssSwi?.getIsAttached()&&this.__diffPrssSwiLegendIconHandler.show()}__detach(){super.__detach(),this.__legendIconHandler.hide(),this.__diffPrssSwiLegendIconHandler.hide()}destroy(){this.__keepAlive||(this.__main?.destroy(),this.__damper?.destroy(),this.__damperBy?.destroy(),this.__diffPrssSwi?.destroy(),super.destroy())}setFlowPipeColor(t){let i=e.ValueConverter.toObject(t);return null==i&&(i=this.getAttributeDefaultValueInternal("FlowPipeColor")),tchmi_equal(i,this.__attrHandler.flowPipeColor)||(this.__attrHandler.flowPipeColor=i,this.__processFlowPipeColor(),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"FlowPipeColor"})),this}__processFlowPipeColor(){this.__attrHandler.flowPipeColor&&this.__damperBy?.setConnectionColors({left:t.Color.RGBAColor.fromSolidColor(this.__attrHandler.flowPipeColor),top:null,right:t.Color.RGBAColor.fromSolidColor(this.__attrHandler.returnPipeColor),bottom:null})}getFlowPipeColor(){return this.__attrHandler.flowPipeColor}setReturnPipeColor(t){let i=e.ValueConverter.toObject(t);return null==i&&(i=this.getAttributeDefaultValueInternal("ReturnPipeColor")),tchmi_equal(i,this.__attrHandler.returnPipeColor)||(this.__attrHandler.returnPipeColor=i,this.__processReturnPipeColor(),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ReturnPipeColor"})),this}__processReturnPipeColor(){this.__attrHandler.returnPipeColor&&this.__processFlowPipeColor()}getReturnPipeColor(){return this.__attrHandler.returnPipeColor}setShowFeedbackDamper(e){return this.__damper?.setShowFeedback(e),this}getShowFeedbackDamper(){return this.__damper?.getShowFeedback()}setShowSetpointDamper(e){return this.__damper?.setShowSetpoint(e),this}getShowSetpointDamper(){return this.__damper?.getShowSetpoint()}setShowFeedbackDamperBy(e){return this.__damperBy?.setShowFeedback(e),this}getShowFeedbackDamperBy(){return this.__damperBy?.getShowFeedback()}setShowSetpointDamperBy(e){return this.__damperBy?.setShowSetpoint(e),this}getShowSetpointDamperBy(){return this.__damperBy?.getShowSetpoint()}processBaObject(){if(super.processBaObject(),this.__main?.setBaObject(null),this.__damper?.setBaObject(null),this.__damperBy?.setBaObject(null),this.__diffPrssSwi?.setBaObject(null),null!=this.baObjectHandler.baObject&&this.baObjectHandler.baObject.checkTemplate(o.BaTemplateDefinition,this.baTemplateHandler.baBaTemplateDescription,this,!0)){if(this.__main?.setBaObject(this.baObjectHandler.baObject),this.__damper){let e=this.baObjectHandler.baObject.getTemplateChild("damper");e?(this.__damper.setBaObject(e),this.__damper.getIsAttached()||this.__element.append(this.__damper.getElement())):this.__damper.getIsAttached()&&this.__damper.getElement().detach()}if(this.__damperBy){let e=this.baObjectHandler.baObject.getTemplateChild("damperBy");e?(this.__damperBy.setBaObject(e),this.__damperBy.getIsAttached()||this.__element.append(this.__damperBy.getElement())):this.__damperBy.getIsAttached()&&this.__damperBy.getElement().detach()}if(this.__diffPrssSwi){let e=this.baObjectHandler.baObject.getTemplateChild("diffPrssSwi");e?(this.__diffPrssSwi.setBaObject(e),this.__diffPrssSwi.getIsAttached()||(this.__diffPrssSwi.getElement().insertBefore(this.__main.getElement()),this.__diffPrssSwiLegendIconHandler.show())):this.__diffPrssSwi.getIsAttached()&&(this.__diffPrssSwi.getElement().detach(),this.__diffPrssSwiLegendIconHandler.hide())}}}__processShowTags(){super.__processShowTags(),this.__attrHandler.showTags?(this.__main?.setShowTag(t.Components.UiIcon.DisplayPosition.right),this.__damper?.setShowTag(t.Components.UiIcon.DisplayPosition.bottom),this.__damperBy?.setShowTag(t.Components.UiIcon.DisplayPosition.bottom),this.__diffPrssSwi?.setShowTag(t.Components.UiIcon.DisplayPosition.top)):(this.__main?.setShowTag(null),this.__damper?.setShowTag(null),this.__damperBy?.setShowTag(null),this.__diffPrssSwi?.setShowTag(null))}}s.ErcPlate=o,function(e){e.BaTemplateDefinition={damper:{subTemplate:s.Damper.BaTemplateDefinition,optional:!0},damperBy:{subTemplate:s.Damper.BaTemplateDefinition,optional:!0},diffPrssSwi:{optional:!0}},e.BaTemplateDescription={damper:{identifier:"Dmp",subTemplate:s.Damper.BaTemplateDescription},damperBy:{identifier:"ByDmp",subTemplate:s.Damper.BaTemplateDescription},diffPrssSwi:{identifier:"DiffPrssSwi"}}}(o=s.ErcPlate||(s.ErcPlate={}))}(i.Plants||(i.Plants={}))}(t.Controls||(t.Controls={}))}(e.BuildingAutomation||(e.BuildingAutomation={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("ErcPlate","TcHmi.BuildingAutomation.Controls.Plants",TcHmi.BuildingAutomation.Controls.Plants.ErcPlate);