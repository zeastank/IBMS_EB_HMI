var TcHmi;!function(e){!function(t){!function(i){!function(s){class a extends i.Common.UiIcon{constructor(e,i,s){super(e,i,s),this.__loadBaChildren=!0,this.__loadTexts=!1,this.baTemplateHandler=new t.BA.BaTemplateHandler}__previnit(){this.baTemplateHandler.defaultBaTemplateDescription=this.__defaultBaTemplateDescription,super.__previnit(),this.__baFc.baObjectHandler.loadChildren=this.__loadBaChildren,this.__baFc.baObjectHandler.loadTexts=this.__loadTexts}__init(){this.__processDisplaysData(),super.__init()}__attach(){super.__attach()}__detach(){super.__detach()}destroy(){this.__keepAlive||super.destroy()}__processShowFeedback(){this.__processDisplaysData()}__processShowSetpoint(){this.__processDisplaysData()}__processDisplaysData(){let e,i=this.__baFc.getDisplaysData(),s=0,o=0;if(null!=i)for(let[e,t]of i)e!==a.feedbackDisplayName&&e!==a.setpointDisplayName&&null!=t.order&&t.order>s&&(s=t.order);s++,o=s+1,this.__showSetpoint?(e=this.__baFc.getDisplay(a.setpointDisplayName),null==e&&(e=this.__baFc.addDisplay(a.setpointDisplayName,{position:this.__displayPosition,order:o,readOnly:!0,textAttributes:{fontWeight:"Bold",color:t.Color.RGBAColor.TcHmiBlue}})),this.__baFc.updateDisplay(a.setpointDisplayName,{position:this.__displayPosition,order:o,baObject:this.__setpoint,value:null==this.__setpoint?"???":void 0})):this.__baFc.removeDisplay(a.setpointDisplayName),this.__showFeedback?(e=this.__baFc.getDisplay(a.feedbackDisplayName),null==e&&(e=this.__baFc.addDisplay(a.feedbackDisplayName,{position:this.__displayPosition,order:s,readOnly:!0,textAttributes:{fontWeight:"Bold"}})),this.__baFc.updateDisplay(a.feedbackDisplayName,{position:this.__displayPosition,order:s,baObject:this.__feedback,value:null==this.__feedback?"???":void 0})):this.__baFc.removeDisplay(a.feedbackDisplayName)}setFeedback(e){return tchmi_equal(e,this.__feedback)||(this.__feedback=e,this.__processDisplaysData()),this}getFeedback(){return this.__feedback}setSetpoint(e){return tchmi_equal(e,this.__setpoint)||(this.__setpoint=e,this.__processDisplaysData()),this}getSetpoint(){return this.__setpoint}setCommand(i){return this.__baFc.setIsActive(!1),null==i?(this.__command=null,this):(t.BaObjectHandler.resolveBaObject(i).then((i=>{if(null==i.baObject)return;let s;this.__command=i.baObject,s=this.__command.tryGetBaVariable(t.BA.BaParameterId.ePresentValue),null!=i.baVariable&&(s=i.baVariable),null!=s&&this.__baFc.baObjectHandler.watchBaVariable(s,(i=>{let s=null,a=!1;"boolean"==typeof i?(s=e.ValueConverter.toBoolean(i),null!=s&&(a=s)):"number"==typeof i?(s=e.ValueConverter.toNumber(i),null!=s&&(a=1!==s)):"string"==typeof i&&(a=!1),null==this.__externalSetIconStatus&&this.__baFc.setIconStatus(a?t.Components.UiIcon.Status.active:t.Components.UiIcon.Status.inactive)}))})),this)}getCommand(){return this.__command}setBaTemplateDescription(t){return null==t&&(t=this.getAttributeDefaultValueInternal("BaTemplateDescription")),this.baTemplateHandler.setBaTemplateDescription(t),this.processBaObject(),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"BaTemplateDescription"}),this}getBaTemplateDescription(){return this.baTemplateHandler.getBaTemplateDescription()}setShowFeedback(t){let i=e.ValueConverter.toBoolean(t);return null==i&&(i=this.getAttributeDefaultValueInternal("ShowFeedback")),tchmi_equal(i,this.__showFeedback)||(this.__showFeedback=i,this.__processShowFeedback(),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowFeedback"})),this}getShowFeedback(){return this.__showFeedback}setShowSetpoint(t){let i=e.ValueConverter.toBoolean(t);return null==i&&(i=this.getAttributeDefaultValueInternal("ShowSetpoint")),tchmi_equal(i,this.__showSetpoint)||(this.__showSetpoint=i,this.__processShowSetpoint(),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowSetpoint"})),this}getShowSetpoint(){return this.__showSetpoint}setDisplayPositionDesigner(t){let i=e.ValueConverter.toNumber(t);return null==i&&(i=this.getAttributeDefaultValueInternal("DisplayPosition")),tchmi_equal(i,this.__displayPosition)||(this.__displayPosition=i,this.__processDisplaysData(),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DisplayPosition"})),this}getDisplayPositionDesigner(){return this.__displayPosition}setDisplayMode(t){let i=e.ValueConverter.toNumber(t);return null==i&&(i=this.getAttributeDefaultValueInternal("DisplayMode")),null==i||tchmi_equal(i,this.__displayMode)||(this.__displayMode=i,this.__processDisplayMode(),e.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DisplayMode"})),this}__processDisplayMode(){this.__displayMode===a.CustomDisplayModeValue&&this.__processIcon()}getDisplayMode(){return this.__displayMode}processBaObject(){super.processBaObject()}__processIcon(){this.__displayMode===a.CustomDisplayModeValue&&super.__processIcon()}}a.setpointDisplayName="setpoint-display",a.feedbackDisplayName="feedback-display",s.UiIconFdbStp=a,function(e){e.CustomDisplayModeValue=999}(a=s.UiIconFdbStp||(s.UiIconFdbStp={}))}(i.System||(i.System={}))}(t.Controls||(t.Controls={}))}(e.BuildingAutomation||(e.BuildingAutomation={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("UiIconFdbStp","TcHmi.BuildingAutomation.Controls.System",TcHmi.BuildingAutomation.Controls.System.UiIconFdbStp);