var TcHmi;!function(t){!function(e){!function(i){!function(i){class s extends i.Cooler{constructor(t,e,i){super(t,e,i),this.__defaultBaTemplateDescription=s.BaTemplateDescription,this.__stp=null,this.__stpDesigner=null}__previnit(){super.__previnit(),this.__main?.setIcon(e.Icons.HVAC.Hc.path),this.__legendIconHandler.icon=e.Icons.convertIIconDataToIIconAttributes(e.Icons.HVAC.Hc),this.__pump=t.ControlFactory.createEx("TcHmi.BuildingAutomation.Controls.Plants.Pump",this.__id+"-pump",null,this),this.__pump&&(this.__pump.setDisplayPositionDesigner(e.Components.UiIcon.DisplayPosition.left).setIconRotation(-90).getElement().addClass("pump"),this.__element.append(this.__pump.getElement()))}__init(){super.__init()}__attach(){super.__attach()}__detach(){super.__detach()}destroy(){this.__keepAlive||(this.__pump?.destroy(),super.destroy())}__processFlowTempSensorSetpoint(){this.__flowTempSensor&&this.__flowTempSensor.setSetpointDesigner(null!=this.__stpDesigner?this.__stpDesigner:this.__stp)}setSetpointSensorFlow(t){return this.__stpDesigner=t,this.__processFlowTempSensorSetpoint(),this}setShowFeedbackPump(t){return this.__pump?.setShowFeedback(t),this}getShowFeedbackPump(){return this.__pump?.getShowFeedback()}setShowSetpointPump(t){return this.__pump?.setShowSetpoint(t),this}getShowSetpointPump(){return this.__pump?.getShowSetpoint()}processBaObject(){if(super.processBaObject(),this.__pump?.setBaObject(null),null==this.baObjectHandler.baObject)return this.__stp=null,void this.__processFlowTempSensorSetpoint();if(this.baObjectHandler.baObject.checkTemplate(s.BaTemplateDefinition,this.baTemplateHandler.baBaTemplateDescription,this,!0)&&(this.__flowTempSensor&&(this.__stp=this.baObjectHandler.baObject.getTemplateChild("tempFlowSp"),this.__processFlowTempSensorSetpoint()),this.__pump)){let t=this.baObjectHandler.baObject.getTemplateChild("pump");t instanceof e.BA.BaView?(this.__pump.baTemplateHandler.setBaTemplateDescriptionInternal(this.baTemplateHandler.baBaTemplateDescription.pump.subTemplate),this.__pump.setBaObject(t),this.__pump.getIsAttached()||this.__element.append(this.__pump.getElement())):(this.__pump.setBaObject(null),this.__pump.getIsAttached()&&this.__pump.getElement().detach())}}__processShowTags(){super.__processShowTags(),this.__attrHandler.showTags?this.__pump?.setShowTag(e.Components.UiIcon.DisplayPosition.left):this.__pump?.setShowTag(null)}}i.HeatingCircuit=s,function(t){t.BaTemplateDefinition={...i.Cooler.BaTemplateDefinition,pump:{subTemplate:i.Pump.BaTemplateDefinition,optional:!0},tempFlowSp:{optional:!0}},t.BaTemplateDescription={...i.Cooler.BaTemplateDescription,pump:{identifier:"Pu",subTemplate:i.Pump.BaTemplateDescription},tempFlowSp:{identifier:"Sp::SpFlWT"}}}(s=i.HeatingCircuit||(i.HeatingCircuit={}))}(i.Plants||(i.Plants={}))}(e.Controls||(e.Controls={}))}(t.BuildingAutomation||(t.BuildingAutomation={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("HeatingCircuit","TcHmi.BuildingAutomation.Controls.Plants",TcHmi.BuildingAutomation.Controls.Plants.HeatingCircuit);