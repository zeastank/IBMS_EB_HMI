var TcHmi;!function(t){!function(e){!function(i){!function(n){class o extends i.System.UiIconFdbStp{constructor(i,n,s){super(i,n,s),this.__defaultBaTemplateDescription=o.BaTemplateDescription,this.__legendIconHandler=new e.Components.LegendIconHandler,this.__fdb=null,this.__stpDesigner=null,this.__customLetter=null,this.__pinLayout=o.PinLayout.single,this.__isAnalog=!0,this.__iconSuffix="_c",this.__svgCLP=t.Controls.getBasePath("TcHmi.BuildingAutomation.Controls.System.Sensor")+"/Images/circle.svg"}__previnit(){super.__previnit()}__init(){super.__init(),this.__isAnalog||(this.__iconSuffix="_s",this.__svgCLP=this.__svgCLP.replace("circle","square"),this.__processDisplayMode())}__attach(){super.__attach()}__detach(){super.__detach()}destroy(){this.__keepAlive||super.destroy()}__processValues(){this.setFeedback(this.__fdb),this.setSetpoint(this.__stpDesigner)}__updateCustomLetter(){const t=this.__baFc.backgroundStyler.getSvg();if(null==t)return;const e=t.find("text");null==this.__customLetter?e.text(""):e.text(this.__customLetter)}setSetpointDesigner(e){return this.__stpDesigner=e,this.__processValues(),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Setpoint"}),this}setCustomLetter(e){let i=t.ValueConverter.toString(e);return null==i&&(i=this.getAttributeDefaultValueInternal("CustomLetter")),i===this.__customLetter||(this.__customLetter=i,this.__processCustomLetter(),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"CustomLetter"})),this}__processCustomLetter(){if(this.__displayMode!==o.DisplayMode.customLetter)return;this.__baFc.backgroundStyler.getImage()!==this.__svgCLP?(this.__baFc.eventHandler.register(e.Components.BackgroundStyler.Events.onSvgLoaded,(t=>{t.destroy(),this.__displayMode===o.DisplayMode.customLetter&&this.__updateCustomLetter()})),this.__baFc.backgroundStyler.setImage(this.__svgCLP,!0)):this.__updateCustomLetter()}getCustomLetter(){return this.__customLetter}setPinLayout(e){let i=t.ValueConverter.toNumber(e);return null==i&&(i=this.getAttributeDefaultValueInternal("PinLayout")),null==i||null==o.PinLayout[i]||i===this.__pinLayout||(this.__pinLayout=i,this.__processPinLayout(),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"PinLayout"})),this}__processPinLayout(){this.__processPinPosition()}getPinLayout(){return this.__pinLayout}setPinPosition(i){let n=t.ValueConverter.toNumber(i);return null==n&&(n=this.getAttributeDefaultValueInternal("PinPosition")),null==n||null==e.Position[n]||n===this.__pinPosition||(this.__pinPosition=n,this.__processPinPosition(),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"PinPosition"})),this}__processPinPosition(){let t=null,i=null;switch(this.__pinLayout){case o.PinLayout.single:if(null!=this.__pinConnection)switch(t={top:0,right:0,bottom:0,left:0},this.__pinPosition){case e.Position.top:t.top=this.__pinConnection;break;case e.Position.right:t.right=this.__pinConnection;break;case e.Position.bottom:t.bottom=this.__pinConnection;break;case e.Position.left:t.left=this.__pinConnection}break;case o.PinLayout.parallel:if(null!=this.__pinConnection)switch(t={top:0,right:0,bottom:0,left:0},this.__pinPosition){case e.Position.top:t.right=this.__pinConnection,t.left=this.__pinConnection;break;case e.Position.right:t.top=this.__pinConnection,t.bottom=this.__pinConnection;break;case e.Position.bottom:t.right=this.__pinConnection,t.left=this.__pinConnection;break;case e.Position.left:t.top=this.__pinConnection,t.bottom=this.__pinConnection}if(null!=this.__pinExtension)switch(i={top:0,right:0,bottom:0,left:0},this.__pinPosition){case e.Position.top:i.top=this.__pinExtension;break;case e.Position.right:i.right=this.__pinExtension;break;case e.Position.bottom:i.bottom=this.__pinExtension;break;case e.Position.left:i.left=this.__pinExtension}}this.__baFc.setConnections(t),this.__baFc.setConnectionExtensions(i)}getPinPosition(){return this.__pinPosition}setPinConnection(e){let i=t.ValueConverter.toNumber(e);return null==i&&(i=this.getAttributeDefaultValueInternal("PinConnection")),tchmi_equal(i,this.__pinConnection)||(this.__pinConnection=i,this.__processPinConnection(),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"PinConnection"})),this}__processPinConnection(){this.__processPinPosition()}getPinConnection(){return this.__pinConnection}setPinExtension(e){let i=t.ValueConverter.toNumber(e);return null==i&&(i=this.getAttributeDefaultValueInternal("PinExtension")),tchmi_equal(i,this.__pinExtension)||(this.__pinExtension=i,this.__processPinExtension(),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"PinExtension"})),this}__processPinExtension(){this.__processPinPosition()}getPinExtension(){return this.__pinExtension}setPinWidth(e){let i=t.ValueConverter.toNumber(e);return null==i&&(i=this.getAttributeDefaultValueInternal("PinWidth")),tchmi_equal(i,this.__pinWidth)||(this.__pinWidth=i,this.__processPinWidth(),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"PinWidth"})),this}__processPinWidth(){this.__baFc.setConnectionsWidth(this.__pinWidth)}getPinWidth(){return this.__pinWidth}processBaObject(){super.processBaObject()}__processDisplayMode(){let t;super.__processDisplayMode();let i,n,s=e.Icons.HVAC.Path,r="HVAC",_="",a=-1;if(n=o.DisplayMode[this.__displayMode],null==n)throw new e.BaseError("Invalid DisplayMode!");switch(this.__displayMode){case o.DisplayMode.custom:return this.__legendIconHandler.hide(),void this.__processIcon();case o.DisplayMode.customLetter:return this.__legendIconHandler.hide(),void this.__processCustomLetter();case o.DisplayMode.humidityAbs:a=8;break;case o.DisplayMode.globalRadiation:case o.DisplayMode.volumeFlow:a=6;break;case o.DisplayMode.co2:case o.DisplayMode.voc:_=n.toUpperCase();break;case o.DisplayMode.heatAmount:a=4;break;case o.DisplayMode.brightness:s=e.Icons.RoomAutomation.Path,r="RoomAutomation"}i=n,-1!==a&&(i=n.substring(0,a)+"_"+n.substring(a)),i=i+this.__iconSuffix+".svg",""===_&&(_="KeyL_Icon"+n[0].toLocaleUpperCase()+n.slice(1)+this.__iconSuffix),t=e.Icons.createIIconData(s+"/"+i,r,e.Icons.getLocaleSymbolExp(_)),null!=t?(this.__legendIconHandler.icon=e.Icons.convertIIconDataToIIconAttributes(t),this.__isAttached&&this.__legendIconHandler.show(),this.__baFc.backgroundStyler.setImage(t.path,!0)):this.__legendIconHandler.hide()}__processConnections(){}__processConnectionExtension(){}__processConnectionsWidth(){}}n.Sensor=o,function(t){let e,i;!function(t){t[t.invalid=-1]="invalid",t[t.temperature=0]="temperature",t[t.pressure=1]="pressure",t[t.humidity=2]="humidity",t[t.humidityAbs=3]="humidityAbs",t[t.enthalpy=4]="enthalpy",t[t.globalRadiation=5]="globalRadiation",t[t.co2=6]="co2",t[t.voc=7]="voc",t[t.volumeFlow=8]="volumeFlow",t[t.heatAmount=9]="heatAmount",t[t.current=10]="current",t[t.voltage=11]="voltage",t[t.brightness=30]="brightness",t[t.custom=n.UiIconFdbStp.CustomDisplayModeValue]="custom",t[t.customLetter=n.UiIconFdbStp.CustomDisplayModeValue+1]="customLetter"}(e=t.DisplayMode||(t.DisplayMode={})),function(t){t[t.none=-1]="none",t[t.single=0]="single",t[t.parallel=1]="parallel"}(i=t.PinLayout||(t.PinLayout={})),t.BaTemplateDefinition={feedback:{}},t.BaTemplateDescription={feedback:{identifier:"none"}}}(o=n.Sensor||(n.Sensor={}))}(i.System||(i.System={}))}(e.Controls||(e.Controls={}))}(t.BuildingAutomation||(t.BuildingAutomation={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("Sensor","TcHmi.BuildingAutomation.Controls.System",TcHmi.BuildingAutomation.Controls.System.Sensor);