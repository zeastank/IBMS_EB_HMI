var TcHmi;!function(t){!function(e){!function(s){!function(i){!function(o){class r extends o.ControlUnit{constructor(t,e){super(t,e),this.baInterfaceHandler.baInterfaceDefinition=i.HeatingCooling.BaInterfaceDef,this.setBaInterfaceSymbolNames(i.HeatingCooling.BaInterfaceSymbolNames),this.__roomTempAdjustFeedbackReady=[],this.__element.addClass("hc-control"),this.__tempAdjustSlider=new i.HeatingCooling.TemperatureAdjustSlider(this.__id+"-temp-adjust-slider",this).setAttributes({readOnly:!0}),this.__zonesOuterContainer=$("<div>").addClass("zones-outer-container"),this.setRoomTempAdjustRange(3),this.setUnit("°C")}__attach(){this.__isAttached||super.__attach()}__detach(){this.__isAttached&&super.__detach()}destroy(){this.__acIcon?.destroy(),this.__acIconSideMenu?.destroy(),this.__tempAdjustSlider.destroy(),this.__tempAdjustSliderSideMenu?.destroy(),super.destroy()}createElement(){this.__elementCreated||(this.__iconContainer||(this.__iconContainer=$("<div>").addClass("icon-container"),this.__element.append(this.__iconContainer),this.__processError()),this.__acIcon||(this.__acIcon=new i.HeatingCooling.Icon(this.__id+"-hc-icon",this),this.__acIcon.setReadOnly(!0).getElement().addClass("icon"),this.__iconContainer?.append(this.__acIcon.getElement())),this.__acIconSideMenu||(this.__acIconSideMenu=new i.HeatingCooling.Icon(this.__id+"-hc-icon-side-menu",this),this.__acIconSideMenu.setReadOnly(!0).getElement().addClass("fixed-size")),this.__zonesOuterContainer.append(this.__tempAdjustSlider.getElement()),this.__element.append(this.__zonesOuterContainer),this.__elementCreated=!0)}getSideControl(){return this.__sideControlContainer=super.getSideControl(),this.__sideControlContainer.addClass("hc"),this.__sideControl&&(this.__sideControl.getElement(),this.__updateSideControl()),this.__sideControlContainer}writeRoomTempAdjust(s){null==this.baInterfaceHandler.baInterfaceSymNames&&(this.baInterfaceHandler.baInterfaceSymNames=i.HeatingCooling.BaInterfaceSymbolNames),this.baObjectHandler.baObject?.checkParams(i.HeatingCooling.BaInterfaceDef,this.baInterfaceHandler.baInterfaceSymNames)&&i.HeatingCooling.writeRoomTempAdjustToPlc(s,this.baObjectHandler.baObject),null!=this.baInterfaceHandler.getBaInterfaceSym()&&i.HeatingCooling.writeRoomTempAdjustToPlc(s,this.baInterfaceHandler),this.__attrHandler.roomTempAdjustMapping&&t.Server.writeSymbol(this.__attrHandler.roomTempAdjustMapping,s,(t=>{this.logger.checkServerResult(e.Logger.Severity.warn,t,!1)})),this.__processChangedRoomTempAdjust(s)}getIsLocked(){return s.System.BaseRoomControl.getIsLocked(this.__attrHandler)}getPriorityIcon(t){return null}hasManualPriority(){return!1}showRoomTemperature(){this.__tempAdjustSlider.showDisplays()}hideRomTemperature(){this.__tempAdjustSlider.hideDisplays()}__processChangedRoomTempAdjust(t){if(1!=this.busyHandler.getIsBusy()&&void 0!==t&&(this.setRoomTempAdjust(t),null!=this.__attrHandler.roomTempAdjustFeedback&&t!=this.__attrHandler.roomTempAdjustFeedback)){let t=()=>{this.__roomTempAdjustFeedbackReady.forEach((t=>t())),this.__roomTempAdjustFeedbackReady=[],this.setRoomTempAdjust(this.__attrHandler.roomTempAdjustFeedback)};this.__sideControlContainer&&0==this.busyHandler.getIsBusy()&&i.showBusyIndicator&&e.BusyHandler.appendBusyIndicator(this.__sideControlContainer);let s=this.logger.logPerformance(e.Logger.Severity.debug,"RoomTempAdjust feedback response."),o=()=>{s(),this.__sideControlContainer&&e.BusyHandler.detachBusyIndicator(this.__sideControlContainer)};this.__roomTempAdjustFeedbackReady.push(this.busyHandler.setBusy("Waiting for RoomTempAdjustFeedback",{cbOnTimeout:t,cbOnReady:o,showIndicator:i.showBusyIndicator}))}}__updateSideControl(){this.__sideControl&&this.__acIcon&&this.__acIconSideMenu&&this.__attrHandler&&null!=this.__attrHandler.roomTempAdjustRange&&(this.__acIconSideMenu.getIsAttached()||this.__sideControl.addControl(this.__acIconSideMenu),null==this.__tempAdjustSliderSideMenu&&(this.__tempAdjustSliderSideMenu=new i.HeatingCooling.TemperatureAdjustSlider(this.__id+"-temp-adjust-slider-side-menu",this).setAttributes(this.__attrHandler),this.__processEnergyLevel(),this.__sideControl.addControl(this.__tempAdjustSliderSideMenu),this.__destroyersToCallOnDestroy.push(this.__tempAdjustSliderSideMenu.eventHandler.register(i.HeatingCooling.TemperatureAdjustSlider.TimeAdjustSliderEvents.onUserInteractionFinished,((t,e,s)=>{this.writeRoomTempAdjust(s)})))))}setAttributes(t){return super.setAttributes(t),this.baObjectHandler.baObject||(void 0!==t.roomTempAdjustRange&&this.setRoomTempAdjustRange(t.roomTempAdjustRange),this.__handleProperty(t,"roomTemp",this.setRoomTemp,"number"),this.__handleProperty(t,"roomTempAdjust",this.setRoomTempAdjust,"number"),this.__handleProperty(t,"roomTempAdjustFeedback",this.setRoomTempAdjustFeedback,"number"),this.__handleProperty(t,"heatingSetpoint",this.setHeatingSetpoint,"number"),this.__handleProperty(t,"heatingActive",this.setHeatingActive,["boolean","number"]),this.__handleProperty(t,"coolingSetpoint",this.setCoolingSetpoint,"number"),this.__handleProperty(t,"coolingActive",this.setCoolingActive,["boolean","number"]),this.__handleProperty(t,"energyLevel",this.setEnergyLevel,"number"),void 0!==t.unit&&this.setUnit(t.unit)),this}getAttributes(){return this.__attrHandler.getRef()}__processBaInterface(){super.__processBaInterface(),i.HeatingCooling.processBaInterface(this,{processError:t=>this.setError(t),processPriority:t=>this.setPriority(t),processRoomTemp:t=>this.setRoomTemp(t),processRoomTempAdjust:t=>this.setRoomTempAdjust(t),processRoomTempAdjustFeedback:t=>this.setRoomTempAdjustFeedback(t),processRoomTempAdjustReadOnly:t=>{this.setReadOnly(t)},processRoomTempAdjustRange:t=>this.setRoomTempAdjustRange(t),processHeatingSetpoint:t=>this.setHeatingSetpoint(t),processHeatingActive:t=>this.setHeatingActive(t),processCoolingSetpoint:t=>this.setCoolingSetpoint(t),processCoolingActive:t=>this.setCoolingActive(t),processEnergyLevel:t=>this.setEnergyLevel(t)})}setRoomTemp(t){return this.__attrHandler.checkAttribute(t,"roomTemp",{validator:"number"})?(this.__attrHandler.roomTemp=t,this.__processRoomTemp(),this):this}__processRoomTemp(){this.__tempAdjustSlider.setRoomTemp(this.__attrHandler.roomTemp),this.__tempAdjustSliderSideMenu?.setRoomTemp(this.__attrHandler.roomTemp)}getRoomTemp(){return this.__attrHandler.roomTemp}setRoomTempAdjust(t){return this.__attrHandler.checkAttribute(t,"roomTempAdjust",{validator:"number"})?(this.__attrHandler.roomTempAdjust=t,this.__processRoomTempAdjust(),this):this}__processRoomTempAdjust(){this.__tempAdjustSlider.setRoomTempAdjust(this.__attrHandler.roomTempAdjust),this.__tempAdjustSliderSideMenu?.setRoomTempAdjust(this.__attrHandler.roomTempAdjust)}getRoomTempAdjust(){return this.__attrHandler.roomTempAdjust}setRoomTempAdjustFeedback(t){return this.__attrHandler.checkAttribute(t,"roomTempAdjustFeedback",{validator:"number"})?(this.__attrHandler.roomTempAdjustFeedback=t,this.__processRoomTempAdjustFeedback(),this):this}__processRoomTempAdjustFeedback(){null!=this.__attrHandler.roomTempAdjustFeedback&&(this.__roomTempAdjustFeedbackReady.forEach((t=>t())),this.__roomTempAdjustFeedbackReady=[]),this.__attrHandler.roomTempAdjust=this.__attrHandler.roomTempAdjustFeedback,this.__processRoomTempAdjust()}getRoomTempAdjustFeedback(){return this.__attrHandler.roomTempAdjustFeedback}setRoomTempAdjustRange(t){return this.__attrHandler.checkAttribute(t,"roomTempAdjustRange",{validator:"number"})?(null==t&&(t=3),this.__attrHandler.roomTempAdjustRange=t,this.__processRoomTempAdjustRange(),this):this}__processRoomTempAdjustRange(){this.__updateSideControl(),this.__tempAdjustSlider.setRoomTempAdjustRange(this.__attrHandler.roomTempAdjustRange),this.__tempAdjustSliderSideMenu?.setRoomTempAdjustRange(this.__attrHandler.roomTempAdjustRange)}getRoomTempAdjustRange(){return this.__attrHandler.roomTempAdjustRange}setHeatingSetpoint(t){return this.__attrHandler.checkAttribute(t,"heatingSetpoint",{validator:"number"})?(this.__attrHandler.heatingSetpoint=t,this.__processHeatingSetpoint(),this):this}__processHeatingSetpoint(){this.__tempAdjustSlider.setHeatingSetpoint(this.__attrHandler.heatingSetpoint),this.__tempAdjustSliderSideMenu?.setHeatingSetpoint(this.__attrHandler.heatingSetpoint)}getHeatingSetpoint(){return this.__attrHandler.heatingSetpoint}setHeatingActive(t){return this.__attrHandler.checkAttribute(t,"heatingActive",{validator:["boolean","number"]})?(this.__attrHandler.heatingActive=t,this.__processHeatingActive(),this):this}__processHeatingActive(){this.__attrHandler&&(this.__oldHeatingActive!=this.__attrHandler.heatingActive&&(this.__acIcon?.setHeatingActive(!!this.__attrHandler.heatingActive),this.__acIconSideMenu?.setHeatingActive(!!this.__attrHandler.heatingActive),this.__oldHeatingActive=this.__attrHandler.heatingActive),this.__tempAdjustSlider.setHeatingActive(this.__attrHandler.heatingActive),this.__tempAdjustSliderSideMenu?.setHeatingActive(this.__attrHandler.heatingActive))}getHeatingActive(){return this.__attrHandler.heatingActive}setCoolingSetpoint(t){return this.__attrHandler.checkAttribute(t,"coolingSetpoint",{validator:"number"})?(this.__attrHandler.coolingSetpoint=t,this.__processCoolingSetpoint(),this):this}__processCoolingSetpoint(){this.__tempAdjustSlider.setCoolingSetpoint(this.__attrHandler.coolingSetpoint),this.__tempAdjustSliderSideMenu?.setCoolingSetpoint(this.__attrHandler.coolingSetpoint)}getCoolingSetpoint(){return this.__attrHandler.coolingSetpoint}setCoolingActive(t){return this.__attrHandler.checkAttribute(t,"coolingActive",{validator:["boolean","number"]})?(this.__attrHandler.coolingActive=t,this.__processCoolingActive(),this):this}__processCoolingActive(){this.__attrHandler&&(this.__oldCoolingActive!=this.__attrHandler.coolingActive&&(this.__acIcon?.setCoolingActive(!!this.__attrHandler.coolingActive),this.__acIconSideMenu?.setCoolingActive(!!this.__attrHandler.coolingActive),this.__oldCoolingActive=this.__attrHandler.coolingActive),this.__tempAdjustSlider.setCoolingActive(this.__attrHandler.coolingActive),this.__tempAdjustSliderSideMenu?.setCoolingActive(this.__attrHandler.coolingActive))}getCoolingActive(){return this.__attrHandler.coolingActive}setUnit(t){return this.__attrHandler.checkAttribute(t,"unit",{validator:"string"})?(null==t&&(t="°C"),this.__attrHandler.unit=t,this.__processUnit(),this):this}__processUnit(){this.__tempAdjustSlider.setUnit(this.__attrHandler.unit),this.__tempAdjustSliderSideMenu?.setUnit(this.__attrHandler.unit)}getUnit(){return this.__attrHandler.unit}setEnergyLevel(t){return this.__attrHandler.checkAttribute(t,"energyLevel",{validator:"number"})?(this.__attrHandler.energyLevel=t,this.__processEnergyLevel(),this):this}__processEnergyLevel(){this.__attrHandler.energyLevel!=i.HeatingCooling.EnergyLevel.comfort?this.__tempAdjustSliderSideMenu?.setReadOnly(!0):this.__tempAdjustSliderSideMenu?.setReadOnly(!1)}getEnergyLevel(){return this.__attrHandler.energyLevel}processBaObject(){super.processBaObject(),null!=this.baObjectHandler.baObject&&i.HeatingCooling.processBaObject(this,this.baInterfaceHandler.baInterfaceSymNames,{processError:t=>this.setError(t),processPriority:t=>this.setPriority(t),processRoomTemp:t=>this.setRoomTemp(t),processRoomTempAdjust:t=>this.setRoomTempAdjust(t),processRoomTempAdjustFeedback:t=>this.setRoomTempAdjustFeedback(t),processRoomTempAdjustReadOnly:t=>{this.setReadOnly(t)},processRoomTempAdjustRange:t=>this.setRoomTempAdjustRange(t),processHeatingSetpoint:t=>this.setHeatingSetpoint(t),processHeatingActive:t=>this.setHeatingActive(t),processCoolingSetpoint:t=>this.setCoolingSetpoint(t),processCoolingActive:t=>this.setCoolingActive(t),processEnergyLevel:t=>this.setEnergyLevel(t)})}__processReadOnly(){super.__processReadOnly(),this.__tempAdjustSliderSideMenu?.setReadOnly(this.__attrHandler.readOnly)}}o.HeatingCoolingControl=r}(i.RoomControl||(i.RoomControl={}))}(s.RoomAutomation||(s.RoomAutomation={}))}(e.Controls||(e.Controls={}))}(t.BuildingAutomation||(t.BuildingAutomation={}))}(TcHmi||(TcHmi={}));