var TcHmi;!function(t){!function(e){!function(n){!function(o){class r extends n.System.TextControl{constructor(e,n,o){super(e,n,o),this.__icon=null,this.__onResolverForIconOverlaysWatchCallback=e=>{!1===this.__isAttached&&this.__suspendObjectResolver("IconOverlays"),e.error===t.Errors.NONE?void 0===e.value||tchmi_equal(e.value,this.__iconOverlays)||(this.__iconOverlays=e.value,this.__processIconOverlays(),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconOverlays"})):t.Log.error("[Source=Control, Module=TcHmi.Controls.System.TcHmiControl, Id="+this.getId()+", Attribute=IconOverlays] Resolving symbols from object failed with error: "+t.Log.buildMessage(e.details))}}__previnit(){null==this.__baFc&&(this.__baFc=new e.Components.Button(this.__id+"-ba-fc",this)),this.__element.append(this.__baFc.getElement()),super.__previnit()}__init(){super.__init()}__attach(){super.__attach(),this.__destroyersToCallOnDetach.push(this.__baFc.eventHandler.register(e.Components.Button.ButtonEvents.onPressed,(()=>{this.eventHandler.raise(e.Components.Button.ButtonEvents.onPressed)}))),this.__destroyersToCallOnDetach.push(this.__baFc.eventHandler.register(e.Components.Button.ButtonEvents.onDoublePressed,(()=>{this.eventHandler.raise(e.Components.Button.ButtonEvents.onDoublePressed)})))}__detach(){super.__detach()}destroy(){this.__keepAlive||super.destroy()}setText(e){let n=t.ValueConverter.toString(e);return null==n&&(n=this.getAttributeDefaultValueInternal("Text")),n==this.__baFc.textHandler.getText()||null!=n&&"string"!=typeof n||(this.__attrHandler.textAttributes.text=n,this.__baFc.textHandler.setText(n),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Text"}),this.__processText()),this}__processText(){}getText(){return this.__baFc.textHandler.getText()}setIcon(e){let n=t.ValueConverter.toString(e);return null==n&&(n=this.getAttributeDefaultValueInternal("Icon")),n===this.__icon||(this.__icon=n,this.__processIcon(),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Icon"})),this}__processIcon(){this.__baFc.iconHandler.setIcon(this.__icon,!0)}getIcon(){return this.__icon}setIconWidth(e){let n=t.ValueConverter.toNumber(e);return null==n&&(n=this.getAttributeDefaultValueInternal("IconWidth")),n===this.__baFc.iconHandler.getIconWidth()||(this.__baFc.iconHandler.setIconWidth(n,this.__baFc.iconHandler.getIconWidthUnit()),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconWidth"})),this}getIconWidth(){return this.__baFc.iconHandler.getIconWidth()}setIconWidthUnit(e){let n=t.ValueConverter.toString(e);return null==n&&(n=this.getAttributeDefaultValueInternal("IconWidthUnit")),n===this.__baFc.iconHandler.getIconWidthUnit()||(this.__baFc.iconHandler.setIconWidth(this.__baFc.iconHandler.getIconWidth(),n),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconWidthUnit"})),this}getIconWidthUnit(){return this.__baFc.iconHandler.getIconWidthUnit()}setIconHeight(e){let n=t.ValueConverter.toNumber(e);return null==n&&(n=this.getAttributeDefaultValueInternal("IconHeight")),n===this.__baFc.iconHandler.getIconHeight()||(this.__baFc.iconHandler.setIconHeight(n,this.__baFc.iconHandler.getIconHeightUnit()),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconHeight"})),this}getIconHeight(){return this.__baFc.iconHandler.getIconHeight()}setIconHeightUnit(e){let n=t.ValueConverter.toString(e);return null==n&&(n=this.getAttributeDefaultValueInternal("IconHeightUnit")),n===this.__baFc.iconHandler.getIconHeightUnit()||(this.__baFc.iconHandler.setIconHeight(this.__baFc.iconHandler.getIconHeight(),n),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconHeight"})),this}getIconHeightUnit(){return this.__baFc.iconHandler.getIconHeightUnit()}setIconHorizontalAlignment(e){let n=t.ValueConverter.toString(e);return null==n&&(n=this.getAttributeDefaultValueInternal("IconHorizontalAlignment")),n===this.__baFc.iconHandler.getIconHorizontalAlignment()||(this.__baFc.iconHandler.setIconHorizontalAlignment(n),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconHorizontalAlignment"})),this}getIconHorizontalAlignment(){return this.__baFc.iconHandler.getIconHorizontalAlignment()}setIconVerticalAlignment(e){let n=t.ValueConverter.toString(e);return null==n&&(n=this.getAttributeDefaultValueInternal("IconVerticalAlignment")),n===this.__baFc.iconHandler.getIconVerticalAlignment()||(this.__baFc.iconHandler.setIconVerticalAlignment(n),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconVerticalAlignment"})),this}getIconVerticalAlignment(){return this.__baFc.iconHandler.getIconVerticalAlignment()}setIconColor(n){let o=t.ValueConverter.toObject(n);return null==o&&(o=this.getAttributeDefaultValueInternal("IconColor")),tchmi_equal(o,{color:this.__baFc.iconHandler.getIconColor()?.toString()})||(null==o?this.__baFc.iconHandler.setIconColor(null):this.__baFc.iconHandler.setIconColor(e.Color.RGBAColor.fromSolidColor(o)),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconColor"})),this}getIconColor(){let t=this.__baFc.iconHandler.getIconColor();return t?{color:t.toString()}:{color:""}}setIconRotation(e){let n=t.ValueConverter.toNumber(e);return null==n&&(n=this.getAttributeDefaultValueInternal("IconRotation")),n===this.__baFc.iconHandler.getIconRotation()||(this.__baFc.iconHandler.setIconRotation(n),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconRotation"})),this}getIconRotation(){return this.__baFc.iconHandler.getIconRotation()}setIconRotationSpeed(e){let n=t.ValueConverter.toNumber(e);return null==n&&(n=this.getAttributeDefaultValueInternal("IconRotationSpeed")),n===this.__baFc.iconHandler.getIconRotationSpeed()||(this.__baFc.iconHandler.setIconRotationSpeed(n),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconRotationSpeed"})),this}getIconRotationSpeed(){return this.__baFc.iconHandler.getIconRotationSpeed()}setIconRotationDirection(e){if(null!=e&&"string"==typeof e&&(e=Number(e),isNaN(e)))return this;let n=t.ValueConverter.toNumber(e);return null==n&&(n=this.getAttributeDefaultValueInternal("IconRotationDirection")),n===this.__baFc.iconHandler.getIconRotationDirection()||(this.__baFc.iconHandler.setIconRotationDirection(n),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconRotationDirection"})),this}getIconRotationDirection(){return this.__baFc.iconHandler.getIconRotationDirection()}setIconOverlays(e){let n=t.ValueConverter.toObject(e);null==n&&(n=this.getAttributeDefaultValueInternal("IconOverlays"));let o=this.__objectResolvers.get("IconOverlays");o&&(o.watchDestroyer&&o.watchDestroyer(),o.resolver.destroy());let r=new t.Symbol.ObjectResolver(n);return this.__objectResolvers.set("IconOverlays",{resolver:r,watchCallback:this.__onResolverForIconOverlaysWatchCallback,watchDestroyer:r.watch(this.__onResolverForIconOverlaysWatchCallback)}),this}__processIconOverlays(){if(null==this.__iconOverlays)this.__baFc.iconHandler.setIconOverlays(null);else{function t(t){let n={...t};return null!=t.iconPath&&t.iconPath.indexOf(e.Icons.getBaIconsPath())>-1&&(n.useSVG=!0),null!=t.iconColor&&(n.iconColor=e.Color.RGBAColor.fromSolidColor(t.iconColor)),null!=t.backgroundColor&&(n.backgroundColor=e.Color.RGBAColor.fromSolidColor(t.backgroundColor)),null!=t.iconRotationDirection&&(n.iconRotationDirection=Number(t.iconRotationDirection)),n}const n=[];for(const o of this.__iconOverlays)n.push(t(o));this.__baFc.iconHandler.setIconOverlays(n)}}getIconOverlays(){function t(t){let n={...t};return null!=t.iconColor&&(n.iconColor=new e.Color.RGBAColor(t.iconColor).toSolidColor()),null!=t.backgroundColor&&(n.backgroundColor=new e.Color.RGBAColor(t.backgroundColor).toSolidColor()),null!=t.iconRotationDirection&&(n.iconRotationDirection=String(t.iconRotationDirection)),n}let n=null;const o=this.__baFc.iconHandler.getIconOverlays();if(null!=o){n=[];for(const e of o)n.push(t(e))}return n}setShowInLegend(e){let n=t.ValueConverter.toBoolean(e);return null==n&&(n=this.getAttributeDefaultValueInternal("ShowInLegend")),null==n||n===this.__baFc.getShowInLegend()||(this.__baFc.setShowInLegend(n),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ShowInLegend"})),this}getShowInLegend(){return this.__baFc.getShowInLegend()}setIconCategoryLegend(e){let n=t.ValueConverter.toString(e);return null==n&&(n=this.getAttributeDefaultValueInternal("IconCategoryLegend")),null==n||(this.__baFc.setIconCategoryLegend(n),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconCategoryLegend"})),this}getIconCategoryLegend(){return this.__baFc.getIconCategoryLegend()}setIconDescriptionLegend(e){let n=t.ValueConverter.toString(e);return null==n&&(n=this.getAttributeDefaultValueInternal("IconDescriptionLegend")),null==n||(this.__baFc.setIconDescriptionLegend(n),t.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"IconDescriptionLegend"})),this}getIconDescriptionLegend(){return this.__baFc.getIconDescriptionLegend()}}o.Button=r}(n.Common||(n.Common={}))}(e.Controls||(e.Controls={}))}(t.BuildingAutomation||(t.BuildingAutomation={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("Button","TcHmi.BuildingAutomation.Controls.Common",TcHmi.BuildingAutomation.Controls.Common.Button);